<div class="container">
  <div class="row justify-content-center text-center">
    <div class="col-12 col-md-8">

      <div class="card">
        <div class="card-header">Register</div>
        <form class="form-group" (ngSubmit)="register()" ngNativeValidate>
          
          <div class="card-body">
            <!-- username -->
            <div class="input-group mb-3">
              <span class="input-group-addon">
                <i class="fa fa-user"></i>
              </span>
              <input type="text" class="form-control" placeholder="Username" name="username" [(ngModel)]="user.username" required>
            </div>

            <!-- name -->
            <div class="row mb-3">
              <div class="col-12 col-sm-6">
                <div class="input-group">
                  <span class="input-group-addon">
                    <i class="fa fa-address-book-o"></i>
                  </span>
                  <input type="text" class="form-control" placeholder="First Name" name="first-name" [(ngModel)]="user.firstName" required>
                </div>
              </div>
              <div class="col-12 col-sm-6">
                <div class="input-group">
                  <span class="input-group-addon">
                    <i class="fa fa-address-book-o"></i>
                  </span>
                  <input type="text" class="form-control" placeholder="Last Name" name="last-name" [(ngModel)]="user.lastName" required>
                </div>
              </div>
            </div>

            <!-- password -->
            <div class="row mb-3">
              <div class="col-12 col-sm-6">
                <div class="input-group">
                  <span class="input-group-addon">
                    <i class="fa fa-lock"></i>
                  </span>
                  <input type="password" class="form-control" placeholder="Password" name="password" [(ngModel)]="user.password"
                    minlength=8 maxlength=72 required oninvalid="this.setCustomValidity(this.willValidate ? '' : 'Password must be at least 8 characters long')">
                </div>
              </div>
              <div class="col-12 col-sm-6">
                <div class="input-group">
                  <span class="input-group-addon">
                    <i class="fa fa-lock"></i>
                  </span>
                  <input type="password" class="form-control" placeholder="Confirm Password" name="confirm-password" [(ngModel)]="user.confirmPassword" (focus)="confirmPasswordChange()"
                    minlength=8 maxlength=72 required oninvalid="this.setCustomValidity(this.willValidate ? '' : 'Password must be at least 8 characters long')">
                  </div>
                </div>
                <div class="col-12 mt-1" *ngIf="passwordMismatch">
                  <div class="alert alert-danger mb-0" role="alert">Passwords do not match.</div>
                </div>
            </div>

            <!-- phone -->
            <div class="input-group mb-3">
              <span class="input-group-addon">
                <i class="fa fa-phone"></i>
              </span>
              <input type="text" class="form-control" placeholder="Phone Number" name="telephone" [(ngModel)]="user.telephone" required
                pattern="[0-9]{10}" oninvalid="this.willValidate ? '' : this.setCustomValidity('Phone Number must be 10 digits')">
            </div>

            <!-- address -->
            <div class="input-group mb-3">
              <span class="input-group-addon">
                <i class="fa fa-address-card-o"></i>
              </span>
              <input type="text" class="form-control" placeholder="Address" name="address" [(ngModel)]="user.address" required>
            </div>

            <!-- city/state/zip -->
            <div class="row">
              <div class="col-12 col-sm-5">
                <div class="input-group">
                  <span class="input-group-addon">
                    <i class="fa fa-bicycle"></i>
                  </span>
                  <input type="text" class="form-control" placeholder="City" name="city" [(ngModel)]="user.city" required>
                </div>
              </div>
              <div class="col-4 col-sm-3">
                <div class="input-group">
                  <span class="input-group-addon">
                    <i class="fa fa-building-o"></i>
                  </span>
                  <input type="text" class="form-control" placeholder="State" name="state" [(ngModel)]="user.state" required>
                </div>
              </div>
              <div class="col-8 col-sm-4">
                <div class="input-group">
                  <span class="input-group-addon">
                    <i class="fa fa-home"></i>
                  </span>
                  <input type="text" class="form-control" placeholder="Zip Code" name="zip" [(ngModel)]="user.zip" required
                    pattern="[0-9]{5}" oninvalid="this.willValidate ? '' : this.setCustomValidity('Zip Code must be 5 digits')">
                </div>
              </div>
            </div>

          </div>

          <div class="list-group list-group-flush">
            <li class="list-group-item">
              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input type="radio" class="form-check-input" name="account-type" value="customer" [(ngModel)]="user.type" required>
                  Customer
                </label>
              </div>
              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input type="radio" class="form-check-input" name="account-type" value="employee" [(ngModel)]="user.type" required>
                  Employee
                </label>
              </div>
              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input type="radio" class="form-check-input" name="account-type" value="manager" [(ngModel)]="user.type" required>
                  Manager
                </label>
              </div>
              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input type="radio" class="form-check-input" name="account-type" value="admin" [(ngModel)]="user.type" required>
                  Admin
                </label>
              </div>
            </li>
              
            <li class="list-group-item">
              <!-- customer -->
              <div *ngIf="user.type == 'customer'">
                <div class="input-group mb-3">
                  <span class="input-group-addon">
                    <i class="fa fa-credit-card"></i>
                  </span>
                  <input type="number" class="form-control" placeholder="Credit Card Number" name="credit-card" [(ngModel)]="user.creditCardNo" required
                    pattern="[0-9]{16}" oninvalid="this.willValidate ? '' : this.setCustomValidity('Credit Card Number must be 16 digits')">
                </div>
                <div class="input-group">
                  <span class="input-group-addon">
                    <i class="fa fa-envelope-o"></i>
                  </span>
                  <input type="email" class="form-control" placeholder="Email Address" name="email" [(ngModel)]="user.email" required>
                </div>
              </div>
              
              <!-- employee/manager -->
              <div *ngIf="user.type == 'employee' || user.type == 'manager'">
                <div class="input-group mb-3">
                  <span class="input-group-addon">
                    <i class="fa fa-users"></i>
                  </span>
                  <input type="text" class="form-control" placeholder="Social Security Number" name="ssn" [(ngModel)]="user.ssn" required
                    pattern="[0-9]{9}" oninvalid="this.willValidate ? '' : this.setCustomValidity('Social Security Number must be 9 digits')">
                </div>

                <div class="row">
                  <div class="col-12 col-sm-6 text-left">
                    <div class="input-group">
                      <span class="input-group-addon">
                        <i class="fa fa-calendar"></i>
                      </span>
                      <input type="date" class="form-control" placeholder="MM/DD/YYYY" name="startDate" [(ngModel)]="user.startDate" required>
                    </div>
                    <small class="text-muted">Start Date</small>
                  </div>
                  <div class="col-12 col-sm-6">
                    <div class="input-group">
                      <span class="input-group-addon">
                        <i class="fa fa-money"></i>
                      </span>
                      <input type="number" min="0" step="0.01" class="form-control" placeholder="Hourly Rate" name="hourly-rate" [(ngModel)]="user.hourlyRate" required>
                    </div>
                  </div>
                </div>
              </div>
              
              <!-- admin -->
              <div *ngIf="user.type == 'admin'">
                <div class="form-check">
                  <label class="form-check-label">
                    <input type="checkbox" class="form-check-input" name="admin" value="true" [(ngModel)]="user.admin" required>
                    Are you sure you want to create an admin account?
                  </label>
                </div>
              </div>
            </li>
              
            <li class="list-group-item">
              <button type="submit" class="btn btn-block btn-success" [ladda]="isLoading">
                <i class="fa fa-check"></i> Register
              </button>
            </li>
          </div>
        
        </form>
        <div class="card-footer">
          Already have an account?
          <a routerLink="/register">Log in here!</a>
        </div>
      </div>

    </div>
  </div>
</div>
